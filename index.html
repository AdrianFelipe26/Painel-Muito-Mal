<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel Hotel do Muito Mal</title>
<style>
  body {
    background-color: #1b0d2b;
    color: #f0d7ff;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    overflow: hidden;
  }

  /* Fundo animado */
  @keyframes fundoPisca {
    0% { background-color: #1b0d2b; }
    50% { background-color: #2e0f44; }
    100% { background-color: #1b0d2b; }
  }
  body { animation: fundoPisca 6s infinite; }

  #painel {
    background-color: #2c143f;
    border: 4px solid #7a2fff;
    border-radius: 20px;
    padding: 30px;
    width: 350px;
    text-align: center;
    box-shadow: 0 0 20px #7a2fff;
    transition: box-shadow 0.3s;
  }

  #painel.brilho {
    box-shadow: 0 0 40px #d5aaff;
  }

  h1 {
    margin-bottom: 20px;
    font-size: 1.4rem;
    color: #d5aaff;
    text-shadow: 0 0 5px #fff, 0 0 10px #7a2fff;
  }

  button {
    background-color: #7a2fff;
    color: #fff;
    border: none;
    padding: 12px 18px;
    margin: 10px 5px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1rem;
    transition: 0.3s;
    box-shadow: 0 0 10px #7a2fff;
  }

  button:hover {
    background-color: #9f5fff;
    box-shadow: 0 0 20px #d5aaff;
  }

  input {
    width: 80%;
    padding: 10px;
    border-radius: 8px;
    border: 2px solid #7a2fff;
    margin-top: 10px;
    background-color: #3b1f55;
    color: #fff;
    font-weight: bold;
    font-size: 1rem;
    text-align: center;
  }

  #mensagem {
    margin-top: 20px;
    font-weight: bold;
    font-size: 1rem;
    color: #ffdf00;
    text-shadow: 0 0 5px #fff, 0 0 10px #ffdf00;
  }

  .blink {
    animation: blinkText 0.7s steps(1) infinite;
  }

  @keyframes blinkText {
    50% { opacity: 0; }
  }

  #historico {
    margin-top: 20px;
    background-color: #3b1f55;
    padding: 10px;
    border-radius: 8px;
    max-height: 120px;
    overflow-y: auto;
    font-size: 0.9rem;
    text-align: left;
  }

</style>
</head>
<body>

<div id="painel">
  <h1>Painel do Hotel do Muito Mal</h1>
  <div id="modos">
    <button id="modoClienteBtn">Modo Cliente</button>
    <button id="modoAdminBtn">Modo Administrador</button>
  </div>

  <div id="cliente" style="display:none;">
    <p>Digite o nome do seu quarto:</p>
    <input type="text" id="nomeQuarto" placeholder="Qual seu quarto?">
    <button id="desbloquearQuarto">Desbloquear</button>
  </div>

  <div id="admin" style="display:none;">
    <p>Digite a senha de administrador:</p>
    <input type="password" id="senhaAdmin" placeholder="Senha">
    <button id="entrarAdmin">Entrar</button>
  </div>

  <div id="mensagem"></div>
  <div id="historico">
    <strong>Hist√≥rico Recente de Portas Abertas:</strong>
    <ul id="listaHistorico"></ul>
  </div>
</div>

<!-- Sons (adicionar depois) -->
<audio id="somDesbloqueio" src="desbloqueio.mp3"></audio>
<audio id="somErro" src="erro.mp3"></audio>

<script>
const modoClienteBtn = document.getElementById('modoClienteBtn');
const modoAdminBtn = document.getElementById('modoAdminBtn');
const cliente = document.getElementById('cliente');
const admin = document.getElementById('admin');
const mensagem = document.getElementById('mensagem');
const listaHistorico = document.getElementById('listaHistorico');
const historicoDiv = document.getElementById('historico');
const somDesbloqueio = document.getElementById('somDesbloqueio');
const somErro = document.getElementById('somErro');
const painel = document.getElementById('painel');

let historico = ['Quarto SOL22 aberto']; // Hist√≥rico j√° vem preenchido

function atualizarHistorico() {
  listaHistorico.innerHTML = '';
  historico.slice(-10).forEach(item => {
    const li = document.createElement('li');
    li.textContent = item;
    listaHistorico.appendChild(li);
  });
}

// Inicializa hist√≥rico
atualizarHistorico();

modoClienteBtn.addEventListener('click', () => {
  cliente.style.display = 'block';
  admin.style.display = 'none';
  mensagem.textContent = '';
});

modoAdminBtn.addEventListener('click', () => {
  admin.style.display = 'block';
  cliente.style.display = 'none';
  mensagem.textContent = '';
});

document.getElementById('desbloquearQuarto').addEventListener('click', () => {
  const quarto = document.getElementById('nomeQuarto').value.trim();
  if (!quarto) {
    mensagem.textContent = 'Por favor, digite um quarto.';
    somErro.play();
    return;
  }

  if (quarto.toLowerCase() === 'lua 13') {
    mensagem.textContent = `‚ú® A porta do quarto ${quarto} foi desbloqueada! ‚ú®`;
    mensagem.classList.add('blink');
    painel.classList.add('brilho');
    somDesbloqueio.play();
    historico.push(`Cliente desbloqueou: ${quarto}`);
    atualizarHistorico();
    setTimeout(() => { mensagem.classList.remove('blink'); painel.classList.remove('brilho'); }, 1500);
  } else {
    mensagem.textContent = `‚ö† Quarto "${quarto}" n√£o encontrado.`;
    somErro.play();
  }
});

document.getElementById('entrarAdmin').addEventListener('click', () => {
  const senha = document.getElementById('senhaAdmin').value.trim();
  if (senha === '135') {
    mensagem.textContent = 'üîì Modo administrador ativado!';
    historicoDiv.style.display = 'block';
    painel.classList.add('brilho');
    somDesbloqueio.play();
    atualizarHistorico();

    setTimeout(() => {
      const quarto = prompt('Digite o quarto que deseja desbloquear:');
      if (quarto) {
        historico.push(`Administrador desbloqueou: ${quarto}`);
        mensagem.textContent = `‚ú® Porta do quarto ${quarto} desbloqueada pelo administrador!`;
        mensagem.classList.add('blink');
        painel.classList.add('brilho');
        somDesbloqueio.play();
        atualizarHistorico();
        setTimeout(() => { mensagem.classList.remove('blink'); painel.classList.remove('brilho'); }, 1500);
      }
    }, 200);
  } else {
    mensagem.textContent = '‚ùå Senha incorreta.';
    somErro.play();
  }
});
</script>

</body>
</html>
